30 JAP 개념
=======================
우리가 사용하는 대부분 프로그램은    
사용자가 입력한 데이터나 비즈니스 로직 수행결과로 얻은 데이터를 재사용 할 수 있도록 데이터베이스에 저장한다.     
하지만 자바의 객체와 데이터베이스의 테이블이 정확하게 일치하지 않는다.       
따라서 둘 사이를 매핑하기 위해 많은 SQL 구문과 자바 코드가 필요할 수밖에 없다.      
  
ORM은 이렇게 정확하게 일치하지 않는 자바 객체와 테이블 사이를 매핑해준다.  
다시 말하면 ORM은 자바 객체에 저장된 데이터를 테이블의 Row 정보로 저장하고,  
반대로 테이블에 저장된 Row 정보를 자바 객체로 매핑해준다.  
이 과정에서 사용되는 SQL 구문과 자바 코드는 ORM 프레임워크가 자동으로 만들어준다.  
   
우리는 지금까지 스프링 JDBC나 Mybatis를 이용하여 자바 객체와 테이블을 매핑해왔다.   
하지만 어떤 DB 연동 기술이나 프레임워크를 사용하더라도   
SQL 명령어를 자바 클래스나 외부의 XML 파일에 작성해야 했다.       
그리고 이렇게 작성된 SQL은 유지보수 과정에서 지속적으로 수정되며 새로운 SQL이 추가되기도 한다.     
    
ORM 프레임워크의 가장 큰 특징이자 장점은 DB 연동에 필요한 SQL을 자동으로 생성한다는 것이다.    
또한, 이렇게 생성되는 SQL은 DBMS가 변경될 때 자동으로 변경된다.(각 제품에 맞는 쿼리를 작성해준다)  
다만 ORM 환경설정 파일 어딘가에 DBMS가 변경되었다는 것만 수정해주면 된다.   
   
사실 개발자들은 오래전부터   
객체와 테이블 간의 불일치 때문에 발생하는 여러 문제점을 해결하기 위해 다양한 노력을 기울여 왔다.    
그 과정에서 등장한 것이 EJB의 EntityBean 기술이다.    
하지만 EJB의 EntityBean은 기술적 완성도가 높지 않아서 성능이나 복잡한 구현등의 문제로 개발자로부터 외면당했다.  
그러던 중 등장한것이 Hibernate 프레임워크다.  
Hibernate 프레임워크는 완벽한 ORM 프레임워크이며 자바 객체와 테이블의 ROW를 매핑하는 역할을 수행한다.  
   
이렇게 편리한 Hibernate는  
오랜 시간을 거치면서 기능도 추가되고 성능도 향상되어 ORM의 대표 프레임워크가 되었다.    
하지만 Hibernate 말고도 TopLink나 Cocobase 같은 다른 ORM 프레임워크들도 하나씩 등장하기 시작했다.  
그래서 이런 ORM 프레임워크들에 대한 표준화 작업이 필요했고 그런 노력의 결과가 바로 JPA인 것이다.  
    
# 1. JPA의 특징
JPA는 모든 ORM 구현체들의 공통 인터페이스를 제공한다.  
JPA를 JDBC API와 비교하여 이해하면 편하다.     
   
[사진]   
  
JDBC는 특정 DBMS에 종속되지 않는 DB 연동 구현을 지원한다.  
DB 연동 로직을 구현할 때, JDBC API의 인터페이스들을 이용하면    
실질적인 DB 연동 처리는 해당 DBMS의 드라이버 클래스들이 담당하는 구조이다.   
따라서 DBMS가 변경되는 상황에서도 드라이버만 변경하면 JDBC API를 이용하는 애플리케이션은 수정하지 않는다.   
  
결국, 개발 당시에는 MySQL을 사용하다가 실제 서비스가 오픈될 때는 Oracle로 변경할 수도 있다.  
JAP도 JDBC와 마찬가지이다.    
애플리케이션을 구현할 때, JAP API를 이용하면 개발 당시에는 Hibernate를 ORM 프레임워크로 사용하다가   
실제 서비스가 시작될 때는 TopLink로 변경할 수가 있다  
   
***
# 2. JPA 프로젝트 생성   
JPA 프로젝트는 이클립스 JPA 마법사를 이옹해도 되지만,  
JAP project는 추가로 설정해야 하는 것들이 있어서 일단은 Maven 기반으로 프로젝트를 생성하도록 한다,.  
   
1. 이클립스의 [File] -> [New] 메뉴에서 [Maven Project]를 차례로 선택한다.  
2. 변경할 내용이 없으므로 ```<Next>``` 버튼을 클릭한다.   
3. 일단 자바 프로젝트로 생성할 것이므로   
기본인 ```maven-archetype-quickstart```가 선택된 상태에서 ```<Next>``` 버튼을 클릭한다.    
5. 다음은 Maven 프로젝트 관련 설정 화면이다.  
```
Group Id    : com.springbook.biz.board
Artifact Id : JPAProject
Version     : 0.0.1-SNAPSHOT
Package     : com.springbook.biz.board
```
6. 프로젝트가 생성되었을 때 JRE System Library 버전이 ```[J2SE-1.5]```로 기본 설정되어 있다.    
이를 수정하기 위해 JPAProject에서 마우스 오른쪽 버튼을 클릭하여 맨 아래에 있는 ```[Properties]```를 선택한다.  
7. 왼쪽에 ```[Project Facets]``` 탭을 선택하고 ```Convert to faceted form``` 링크를 클릭한다.  
8. 우선 아래에 있는 ```JPA``` 항목을 체크한다.    
그리고 오른쪽에 ```[Runtime]``` 탭에서 ```jdk1.8.0_73```을 체크한 후에    
```<Apply>```,```<OK>``` 버튼을 차례로 클릭하여 설정을 마무리한다.    
9. 그런데 ```<Apply>``` 버튼이 여전히 비활성화 되어있고 ```<Apply>``` 버튼 위에 문장이   
```Further configuration required```로 출력된다면 우선 해당 링크를 클릭한다.    
10. JPA Facet 창이 열리면 JPA Implementation 항목에서  
Type을 ```Disable Library Configuration```으로 선택하고 ```<OK>``` 버튼을 클릭한다.  
11. 이 과정을 거치면 ```<Apply>```와 ```<OK>``` 버튼이 활성화 된다.   
이렇게 Maven Project가 JPA 프로젝트로 변경되었으면 ```src/main/java``` 소스 폴더에   
META-INF 폴더와 그 아래에 JPA 환경 설정 파일인 persistence.xml이 생성된 것을 확인할 수 있다.  


## 2.1. 소 주제
### 2.1.1. 내용1
```
내용1
```   

***
# 3. 대주제
> 인용
## 3.1. 소 주제
### 3.1.1. 내용1
```
내용1
```
