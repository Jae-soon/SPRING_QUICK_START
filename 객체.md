```
package festival.basic.controller;

import festival.basic.exception.BbsNotFoundException;
import festival.basic.model.Bbs;
import festival.basic.repository.BbsRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.ModelAndView;

import javax.validation.Valid;
import java.util.List;

@RestController
@Service
public class BbsController {
    @Autowired
    BbsRepository bbsRepository;

    @GetMapping("/bbsRead")
    public List<Bbs> getAllBbs() throws Exception {
        return bbsRepository.findAll();
    }

    @GetMapping("/bbsRead/{bbs_ID}")
    public Bbs getBbsById(@PathVariable(value = "bbs_ID") Integer bbs_ID) throws BbsNotFoundException {
        return bbsRepository.findById(bbs_ID).orElseThrow(() -> new BbsNotFoundException(bbs_ID));
    }

    @GetMapping("/bbs/{bbs_ID}")
    public ModelAndView getBbsId(@PathVariable(value = "bbs_ID") Integer bbs_ID) throws BbsNotFoundException{
        Bbs bbs = bbsRepository.findById(bbs_ID).orElseThrow(() -> new BbsNotFoundException(bbs_ID));
        return new ModelAndView("bbsView","bbs", bbs);
    }

    @GetMapping("/bbsList")
    public ModelAndView getBbsList() throws Exception{
        List<Bbs> bbsList = bbsRepository.findAll();
        // ModelAndView class : Controller의 처리 결과를 보여줄 view와 view에서 사용할 값을 전달하는 클래스
        return new ModelAndView("bbsList","list", bbsList);
    }

    @PostMapping("/bbsCreate")
    public String createBbs(@Valid @RequestBody @ModelAttribute("Bbs") Bbs se){
        bbsRepository.save(se);
        // 여기 고쳐야함
        return "<a href='http://localhost:8081/bbsList'>학교 리스트 이동</a>";
        //
    }

    @GetMapping("/bbsCreate")
    public ModelAndView createBbs() throws Exception{
        return new ModelAndView("bbsWrite");
    }

    @PutMapping("/bbsUpdate/{bbs_ID}")
    public Bbs updateBbs(@PathVariable(value = "bbs_ID") Integer bbs_ID,
                                     @Valid @RequestBody @ModelAttribute("Bbs") Bbs bbsDetail) throws BbsNotFoundException {

        Bbs se = bbsRepository.findById(bbs_ID).orElseThrow(() -> new BbsNotFoundException(bbs_ID));

        se.setBbs_ID(bbsDetail.getBbs_ID());
        se.setBbs_title(bbsDetail.getBbs_title());
        se.setBbs_content(bbsDetail.getBbs_content());
        se.setBbs_writer(bbsDetail.getBbs_writer());
        se.setBbs_createDate(bbsDetail.getBbs_createDate());
        se.setBbs_available(bbsDetail.getBbs_available());
        return bbsRepository.save(se);
    }

    @PatchMapping("/bbsEdit/{bbs_ID}")
    public String editOkBbs(@PathVariable(value = "bbs_ID") Integer bbs_ID,
                               @Valid @RequestBody @ModelAttribute("Bbs")  Bbs bbsDetail) throws BbsNotFoundException {

        Bbs se = bbsRepository.findById(bbs_ID).orElseThrow(() -> new BbsNotFoundException(bbs_ID));

        se.setBbs_ID(bbsDetail.getBbs_ID());
        se.setBbs_title(bbsDetail.getBbs_title());
        se.setBbs_content(bbsDetail.getBbs_content());
        se.setBbs_writer(bbsDetail.getBbs_writer());
        se.setBbs_createDate(bbsDetail.getBbs_createDate());
        se.setBbs_available(bbsDetail.getBbs_available());

        bbsRepository.save(se);

        // 여기 수정해야함
        return "<a href='http://localhost:8081/bbsList'>리스트로 가즈아</a>";
        //
    }

    @GetMapping("/bbsEdit/{bbs_ID}")
    public ModelAndView editBbs(@PathVariable(value = "bbs_ID") Integer bbs_ID,
                                   @Valid @RequestBody  @ModelAttribute("Bbs") Bbs bbsDetail) throws BbsNotFoundException {
        Bbs se = bbsRepository.findById(bbs_ID).orElseThrow(() -> new BbsNotFoundException(bbs_ID));
        return new ModelAndView("bbsView","bbs", se);
    }

    @DeleteMapping("/bbsDelete/{bbs_ID}")
    public ResponseEntity<?> deleteBbs(@PathVariable(value = "bbs_ID") Integer bbs_ID) throws BbsNotFoundException {
        Bbs se = bbsRepository.findById(bbs_ID).orElseThrow(() -> new BbsNotFoundException(bbs_ID));

        bbsRepository.delete(se);

        return ResponseEntity.ok().build();
    }

    @DeleteMapping("/bbsDel/{bbs_ID}")
    public String delBbs(@PathVariable(value = "bbs_ID") Integer bbs_ID) throws BbsNotFoundException {
        Bbs se = bbsRepository.findById(bbs_ID).orElseThrow(() -> new BbsNotFoundException(bbs_ID));

        bbsRepository.delete(se);

        ResponseEntity.ok().build();

        // 패스 수정해야함
        return "<a href='http://localhost:8081/bbsList'>학교 리스트 이동</a>";
        //
    }

}
```
