03 스프링 컨테이너 및 설정 파일
=======================
대부분의 IoC 컨테이너는 각 컨테이너에서 관리할 객체들을 위한 별도의 설정 파일이 있다.  
Servlet 컨테이너는 web.xml 파일에,  
EJB 컨테이너는 ejb-jar.xml파일에 해당 컨테이너가 생성하고 관리할 클래스들을 등록한다.    
  
스프링 프레임워크도 다른 컨테이너와 마찬가지로 자신이 관리할 클래스들이 등록된 XML 설정 파일이 필요하다.  
스프링 컨테이너가 사용할 XML 파일은 ```STS```를 이용하면 간단하게 만들 수 있다.   
    
# 1. 스프링 IoC 시작하기
## 1.1. 스프링 설정 파일 생성
이부분은 교재 참조 바람...
```
1. resources -> new -> other -> Spring의 Spring Bean Configuration File 클릭
2. 파일 이름 : applicationContext
3. <bean id="tv" class="polymorphism.SamsungTV" />추가
```
```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<!-- 클래스 지정시에 bean 태그를 사용한다. -->
	<bean id="tv" class="polymorphism.SamsungTV" />
	
</beans>
```
클래스 하나당 하나의 ```<bean>```설정이 필요하다.  
여기서 가장 중요한 점이 ```class="속성값"```이며 패키지 경로를 포함된 전체 클래스 경로를 지정해야 한다.  
하지만 **클래스 이름을 어느정도 기술 후 ```<Ctrl>+<Space>```를 눌러서 자동 완성 기능을 사용할 수 있다.**   
   
## 1.2. 스프링 컨테이너 구동 및 테스트
```
package polymorphism;

import org.springframework.context.support.AbstractApplicationContext;
import org.springframework.context.support.GenericXmlApplicationContext;

public class TVUser {

	public static void main(String[] args) {
		// 1. Spring 컨테이너를 구동한다. (스프링 컨테이너중 한 개인 GenericXmlApplicationContext 사용 )
		AbstractApplicationContext factory = 
				new GenericXmlApplicationContext("applicationContext.xml");
		// 2. Spring 컨테이너로부터 필요한 객체를 요청(Lookup)한다.  
		TV tv = (TV)factory.getBean("tv"); // bean 에 저장된 클래스를 object로 객체화한다.   
		tv.powerOn();
		tv.volumeUp();
		tv.volumeDown();
		tv.powerOff();
		
		// 3. Spring 컨테이너를 종료한다. 
		factory.close();
	}
}
```
**스프링 컨테이너 동작 순서**
1. TVUser 클라이언트가 스프링 설정 파일을 로딩하여 -> 컨테이너 구동
2. 스프링 설정파일에 <bean> 등록된 SamsungTV 객체 생성 
3. getBean() 메소드로 이름이 'TV'인 객체를 요청(Lookup)
4. SamsungTV 객체 반환   
  
중요한 것은 이제 ```LgTV```로 변경하시에 ```applicationContext.xml``` 수정을 해주면 된다.    
기존의 ```BeanFactory```를 이용한 디자인 패턴보다 유지보수가 조금 더 편해졌다.     
  
## 1.2. 스프링 컨테이너 종류

스프링에서는 두가지 유형의 컨테이너를 제공한다.  
1. BeanFactory
2. ApplicationContext(BeanFactory)를 상속

### 1.2.1. BeanFactory
BeanFactory 컨테이너는 스프링 설정 파일에 등록된   
```<bean>``` 객체를 생성하고 관리하는 가장 기본적인 컨테이너 기능만 제공한다.   
```<bean>``` 객체를 생성하는 것이 아니라, 
클라이언트의 요청(Lookup)에 의해서만 ```<bean>``` 객체가 생성되는 **지연로딩 방식**을 사용한다.  	  
따라서 일반적인 스프링 프로젝트에서 BeanFactroy를 사용할 일은 전혀 없다.     

### 1.2.2. ApplicationContext 
ApplicationContext 는 BeanFactory가 제공하는 ```<bean>``` 객체 관리 기능 외에도      
트랜잭션 관리나 메시지 기반의 다국어 처리 등 다양한 기능을 지원한다.     
또한, 컨테이너식으로 동작한다.    
그리고 웹 어플리케이션 개발도 지원하므로 대부분 스프링 프로젝트는 ApplicationContext 유형의 컨테이너를 이용한다.     
   
ApplicationContext의 구현 클래스는 다양하지만 가장 많이 사용하는 2가지를 살펴보자      
   
**ApplicationContext의 구현 클래스**
```
1. GenericXmlApplicationContext : 파일 시스템이나 클래스 경로에 있는 XML 설정 파일을 로딩하여 구동하는 컨테이너이다.
2. XmlWebApplicationContext : 웹 기반의 스프링 애플리케이션을 개발할 때 사용하는 컨테이너이다.  
```
```GenericXmlApplicationContext```은 우리가 앞서 사용해본 클래스이고    
```XmlWebApplicationContext```는 실제 웹 어플리케이션 개발에 사용된다.    
하지만 학습할 때는 ```GenericXmlApplicationContext```위주로 공부할 계획이다.  
   
***
# 2. 스프링 XML 설정
## 2.1. ```<bean>``` 루트 엘리먼트   

### 2.1.1. 내용1
```
내용1
```   

***
# 3. 대주제
> 인용
## 3.1. 소 주제
### 3.1.1. 내용1
```
내용1
```
